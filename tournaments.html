<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Tennis Tournaments</title>
  <meta name="description" content="Tennis Tournaments">
  <meta name="author" content="Guoliang Cao">
  <meta name="keywords" content="ATP, ITF, Australia Open, Wimbledon Open, French Open, US Open">
  <style>
    html, body, #map {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?1.29.1"></script>
  <script src="tournaments.js"></script>
</head>
<body>
  <div id="map"></div>
  <script type="text/javascript">
// Create the Google Mapâ€¦
var map = new google.maps.Map(d3.select("#map").node(), {
  zoom: 3,
  center: new google.maps.LatLng(20, 0),
  mapTypeId: google.maps.MapTypeId.TERRAIN
});
$.each(tournaments.data, function(i, tournament){
  var icon = '';
  if (tournament.type === 'atp250')
    icon = 'http://www.atpworldtour.com/~/media/810218DC73784BEEA6EF0978B2842A69.ashx?w=31&h=36';
  else if (tournament.type === 'atp500')
    icon = 'http://www.atpworldtour.com/~/media/1DB04CA8505648B7B511FA1E37F1E3BA.ashx?w=31&h=36';
  else if (tournament.type === 'atp1000')
    icon = 'http://www.atpworldtour.com/~/media/F5219431817E4ED3B773BF9B006A9ACF.ashx?w=31&h=42';
  else if (tournament.type === 'atptourfinal')
    icon = 'http://www.atpworldtour.com/~/media/47F12472FD254B08B57755E5B7565E5D.ashx?w=31&h=48';

  var myLatLng = new google.maps.LatLng(tournament.latitude, tournament.longitude);
  var marker = new google.maps.Marker({
    position: myLatLng,
    map: map,
    icon: icon,
    title: tournament.name
  });
});
  </script>
</body>
</html>

